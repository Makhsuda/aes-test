{"version":3,"sources":["LogoOverlay.js","img/aes-logo-white-shadow.png","Omnibox.js","LocationSelector.js","common.js","SettingsPane.js","data-loader.js","Theme.js","App.js","img/insight-white.png","index.js"],"names":["useStyles","makeStyles","theme","root","position","bottom","left","display","aesLogo","padding","height","suLogoContainer","maxWidth","color","fontSize","LogoOverlay","props","classes","suLogoDisplay","CONFIG","selectedMapId","className","style","aesLogoContainer","href","target","rel","src","alt","flexDirection","backgroundColor","border","borderRadius","width","menuButton","margin","autocomplete","flexGrow","searchInput","Omnibox","companies","map","f","properties","companyNames","c","company","Hidden","lgUp","implementation","IconButton","edge","aria-label","onClick","onOpenMobileDrawer","Autocomplete","freeSolo","selectOnFocus","handleHomeEndKeys","onChange","event","value","includes","onSelectCompany","options","getOptionLabel","prop","renderInput","params","TextField","placeholder","variant","MAPS","asOption","mapId","label","shortName","container","formControl","spacing","minWidth","locationSelectorDropdown","menuItem","divider","content","goButton","LocationSelector","useState","selectedMap","setSelectedMap","items","Object","keys","FormControl","Select","e","item","index","MenuItem","Button","onSelectMap","normalizeCategory","s","toLowerCase","replace","settingsPane","background","drawer","breakpoints","up","flexShrink","drawerPaper","settingsPaneHeader","textAlign","settingsPaneContent","settingsPaneSubheader","formControlLabel","marginLeft","categoryCheckbox","categoryLabel","verticalAlign","fontFamily","categoryLegend","paneCloseButton","top","right","SettingsPane","closeSettingsPane","onToggleOpen","formControlLabels","taxonomy","category","idx","sanitizedCat","name","isChecked","selectedCategories","has","FormControlLabel","control","Checkbox","checked","onToggleCategory","Typography","Divider","ButtonGroup","id","onSelectAllCategories","onDeselectAllCategories","component","FormGroup","Drawer","anchor","open","mobileDrawerOpen","onClose","ModalProps","keepMounted","mdDown","paper","getCategory","k","toFinalForm","data","headers","table","columns","colidx","i","length","features","forEach","row","feature","cities","newprop","push","geojson","type","fetchMapData","url","process","fetch","then","r","json","THEME","createMuiTheme","palette","primary","main","secondary","typography","h1","h2","h3","COMPANIES_SOURCE","POINT_LAYER","clearPopups","popUps","document","getElementsByClassName","remove","displayPopup","coordinates","geometry","slice","mapboxgl","Popup","setLngLat","setHTML","categoryInfo","filter","join","extraNotes","hasOwnProperty","getPopupContent","setMaxWidth","addTo","populateMapData","mapData","setCenter","center","setZoom","addSource","circleColors","flat","concat","addLayer","source","paint","stops","on","getCanvas","cursor","flyTo","zoom","flyToZoom","speed","accessToken","getUrlFragment","window","location","hash","mainContent","mapContainer","mapOverlay","pointerEvents","mapOverlayInner","mainControlOverlay","mainControlOverlayShifted","insightLogoContainer","marginTop","titleAndSearch","mapTitle","marginBottom","App","fragment","callback","thisMap","setThisMap","initialMapId","getInitialMapId","setSelectedMapId","setTaxonomy","companiesGeojson","setCompaniesGeojson","Set","setSelectedCategories","setMobileDrawerOpen","handleToggleCategory","delete","add","handleReset","handleSelectAllCategories","txnomy","getAllCategories","handleDeselectAllCategories","handleSelectCompany","selectedCompany","handleSelectMap","removeLayer","removeSource","setUpMap","useEffect","Map","attributionControl","minZoom","addControl","FullscreenControl","NavigationControl","initMap","getLayer","filters","setFilter","urlFragment","handleHashChange","addEventListener","removeEventListener","ThemeProvider","smDown","title","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.995a370e.chunk.js","sourcesContent":["import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport aesLogoWhite from './img/aes-logo-white-shadow.png';\r\nimport CONFIG from './config.json';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    'margin-bottom': 24,\r\n    display: 'flex',\r\n    'flex-direction': 'column',\r\n  },\r\n  aesLogo: {\r\n    padding: 8,\r\n    height: 50,\r\n  },\r\n  suLogoContainer: {\r\n    padding: \"4px 8px\",\r\n    maxWidth: 220,\r\n    color: \"white\",\r\n    fontSize: \"9pt\",\r\n  },\r\n}));\r\n\r\n\r\nexport default function LogoOverlay(props) {\r\n  const classes = useStyles();\r\n\r\n  const map = CONFIG['maps'][props.selectedMapId];\r\n  // 2020-09-08: Stanford requested removal of logo in favor of explanatory\r\n  // text. Can be re-added at some point in the future.\r\n  var suLogoDisplay = map['displayStanfordLogo'] ? 'block' : 'none'\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.suLogoContainer}\r\n        style={{display: suLogoDisplay}} >\r\n        Developed by American Energy Society in collaboration with Sally Benson,\r\n        Precourt Family Professor at Stanford University, and Scott Jespersen,\r\n        MS '20, Stanford.\r\n      </div>\r\n      <div className={classes.aesLogoContainer}>\r\n        <a href=\"https://www.energysociety.org\" target=\"_blank\" rel=\"noopener noreferrer\"> \r\n          <img\r\n            src={aesLogoWhite}\r\n            className={classes.aesLogo}\r\n            alt=\"American Energy Society Logo\" />\r\n        </a>\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n}\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJIAAAA4CAYAAAFh+5GQAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAkqADAAQAAAABAAAAOAAAAACrVE4YAAAi60lEQVR4Ae2dB5iWxRHHuTvu6IggKP3oSlVUQIyFGiIaRCMQpUvVAAoizVACQsASRQVposCBAoqKCAgiSJMuTfpRpPd2cAh35vdf3n19v3b30UxImOdZdnd2ts3Ozs7Ou9+RJo0HkpOTVx09erSMB3XpyV8dWLduXUubppUItUQ+0olN0YULFxqQv4kQMXTo0ApCnj9/vgr5sqJThV+TkpISFTO684oFpvAS/omk1er79u0bunjx4v6qFxERkdZb3zZ68ODBabBgYWJi4s8qf/PNN/NSdtpLm+bs2bNPb9u2bYIqPfXUU1UVW3AIzTRJRxOyETI4eOVt2kERqfL333/f1jZiY1GQzulQRsCvOuQzEXJbHOneTtqNIkD6gC1Zvnx5eaWfeeaZakxzzrlz50o6DDcLRFEuS+vGIoL5e13E5SSGDRt2k4YEY/fZodl2PPmYTZs2PfDVV18VFm7OnDndHJpoRnkwTUJCwjpLrPjIkSMLFENkeWTbTDlWpY8++qihYn9QTYkAvZc4c+ZMPrIRjHoHzD/6yy+/zCUfQzBgZOjmm2/OKIL06dPHOng3yp49e20yZwjnhYTmDqKshAPKu+AdxYoVK960eQhMJ8jcA4ygvlMhgl0xjnxj4j7w5hW3ISVU+dChQ608jVzcT5StWbPmzVOnTq0SXYsWLWqQXk9DJ+hgjXBBgYZG2sYUjx071m1c+aCVrhWS/pYQktWxYMyYMa6mQUKMRAg/bdq0FxV7x6H80qVL+4JLy+Juio+Pf5B0jPAnTpx4D0402LhxozRQtHDEkbD4FLQbSKeZNWtWV/JnnE2TDlTZCDJ/3LlzZyzrtqNevXozRCg4fvz4MiRmL8pmQ86cOVuCymEKnH/A213nRV+dNDt2p2bAiF8iyqJ0OGB7Fy3p25Vv1KhRRbTndGc7lBQOid/ft2/fv6Ad6v38889lUIijhF+4cKG4GxqCDQJOFf7888+bUcsshZdGyxu6tatY4u20UKFCJT777LM2XpxN06W7m9Q9MrMdbh90hlJGdDZNbDRT3bp1H0JMatoyJ47gvPlD48aNqzv0oSPk5zaOiL+rIp39ohid2oQaEsL/HLAbhjKWkwzqG0Zx7QQ6tSmKI6GAbV4wtfpXrZxBiAsFT548udAOaM+ePfVt2sbsqHf8O4WL58BFI1NNjx079rmWWjTSa0QRHEzzVV9pQgnKNxNnyZo1azHQkU6ZOQFsOg26adzu3bu1TCGBrb1DhTSWkeCCo/ASGZBkLb0dkEMbybFh6iEGPVGgy6CxgzBn+IIFC7qDS0t9TppTizUyYwCgNzaoEXbFIcUWhg8fficNScO74I7mWiQY+RH1hKauhAb/l+0Vg7SR0lu3bs1lcTZmHFHXYiymTaeTpJ49e/7p9OnTc22niuHMUm/epqlY1A4ImpWkZSXKeH6NdFqlH3vssXvJD4TjR8CZZRJe9bAWpn/33XcvKR0AIqLSCQp8tDPruVFlKDGfQQoHrXuPePnllx8nbw5Up8wMCFxhDcjBRUlGEIt94NMiZ9sUEwKB82a8Klng7HmR82gveaMYDx8+PMOW2ZhW8ntaklEuM86actpNssrMXYRYeXUuQz4vQSCcQiDYThR/+eWXTyqWYDOLL6EuzeCCcSj47AKbvyxMBAfnsxqIhbi4uFY27R+jIFt4e2Hgk8ib2TKRTraMTWLoWLZxKmfJGhPLRuqjAG1l4ZGnEraOG69cubKg7RjihPXr17e2ef+YSj47TOXgjPwRi3NSeMIpbe4WxObmQ3wzQUt3C0EqR3S6ewWCZEcEAgb13MXUb/9awfevyc5cD64gIUqyRyzFGYVClOBmpHwdcQwcOqGdR1qQXf+kaGuLAIhCa3+sYbC7Rimmkz3gixGCC6Fq/V7AeLQUWzSwYDBhwgQf2wluNGVs//mBX2sGwYxINs8OyxTO1W07duyY+MMPPwxgRT+h7MKMGTM62fJQMVfbv4fLMNrYN3/+/EaWHpFrgm6erbxONcqNUaG52/645Kj9SGgbWBy08aoD7gnhUKOzyEtX51GesScSJQlHMED+4Ny5c/9KxiqLKrSzk7y1A4pepHT+VUOcUCsw96sr7Q9eLUWHZ/fv3z/On8abF0M7duxY3KcTvwz0i3bt2iWHTfLrr7+uG5+s9iZI5WbhZs6c2ZV2ZGmZ80Dt9+vX78n777//HnA+TMI5IW1ojG7RkTZ9U/9rrLwpoge9YvXq1XIdiOHLDhw48LXm0r9///uEQ6dUof9T1p8B6uKNAuKMKIfFxOZ6yyrOI+3Cli1b4tyMXwJzcYEX9eGHH/qof5WhQ3bRmfVOaSxe0O1UE1O50ukJWlVdYYSzaauZhc9P0AHpXy5Fl9nBy6d0q5MmMppdGtoetsLZ/tSO6moc3v6Uzq5/0vTu3Ttbr169jinNDbockfSQfCy6ffZi1fooHQyaNWtWE8Z8N3HixOhcuXI1xHdTEJ9MBlYkAQnBJN+XUKFChbvTpUuXvnjx4m1oQyt8fQHby5yNWnG2z3DFe/fuNT4lJGCr8uzRg5jaTa0ICifg0rJaW+FiLvV/4YykwAeolYlTK7OCLeDiotXWdsiNhOvYVFoXYEPHomrlhbuNsZWDphBZs+DCCxh7ESIXJzrlqZPepkUXFjDJSVR0QYqaipkIUS4ySOLdd98114IgRSFRtGl8Jt6BeYnB28kbNBOdJp0BXl6qfJaWvLmcYacMRFKnQvcu85BnMQP6pJn06iuvvFIsPj6+xuDBg2s67RqjSItKvjDBZSDplIFKRv+glNuqIw0EC30Hg/qUzteyelPt4GzMNaKrTSv++OOPA4wqb7lNMxLjbPKOyJYpBq/FkYQonZ/7Wa5gTEKZ67YhD+k/KZ/B/a2qU0cWoE63k8oLyOuWYpjP/LahGprZPHF4IBG+2NzFf5csWdJPKRpMIpzzlmXMmDEPrUZx8vzRwSdhgY730oRKw3D5jLOEN6r/Qir29KuaHOJpLFs7UZh0gdU6bvN4A1fbtOIaNWrI6tWx+dLXX3/djm8EI6FZSb0APQWZjuPwRVwN/7cBzppyKOJFXibYNEZkN6U3bNjwjmLvxwLlUwKYnMBcCxGCMkh1x48f3wK609DoSNZ2Wwvj92srqRyUtpHwW1EFuxir9GgyqLR8XooWDYv0EvkY6tVUn3jc/0He2Ek//fRTD9FgEPcFp6Pe6CeM4irCk5fBGHR84ANBUsVxXh/jayqn2VaunnNx/XeE0ux3NRouREdH30m9mMBefsPQ1uH27dvrhE2qVKlSeZWQPodTYgwTrqy+QBldhoQmgB8Ho2538FIVhkkNGjR4GDp9PahJkDlTgHALwYBDbxbBQRlGkRbdZUFE4cKFb0KP7FXjApTjGMXbt2/vrTgUfPHFF2KoTg9r/IUzAF0TFLyrKWWrhRHeCxbvbV80ZhGJ1YbSNpA0IHrV9UIwnLfcpL2DCij0INS4GpT9IreRLFP5wmQdJxKOO7HuRVr5/z9AanSsNkXcvyXsJH+KeCO4d1DUMvX/fwEF+EKobYXVeggL3bWhoP2JFwXeLfC/zThJTijmCI8bZDHK8UAwGvTYHLgT7ja+PhnJxF/j1l/PMoDTbR6uhbc5RofgHVjH8fsVW83HyLS0nvgCs/dXuEEZQp10qkehFK0B5ZFKc5cjeRJkrAro1/1MQ9be70RuoHr16gYHnT4P6poSS9Bp6X7ywTf2LCiziOAzqCJ5n77nzZt3BzvlLv8ytaXG4n788ce/kcyAYShfbpIILXDxnI4ErVi1atXLFpdSTDspHv9On5uQvt1xcXF1yNvBm2aZqPmcBN58ABGTuC5tZwzfgTMTEyHpYpSdnTRpUmvSkUywNQu6nrQOFs1LNCUIGTp37lyT2Cwg6K1qj6tKbXA+faNKWjj1fpsDOuV5IUeOHNmIDucp7QV1KiPN4pCsAL+RLbMxTF1A5ynqKdFiXgyiT9djKBzewr9js+1SmjZcJtHv8AEDBtQF50qS6jp0sqfkzbRM8jIyBzS5oRXzXIbwdaEfOFfy1U6tWrUeViyA9iKTSJsbv+5tcDaAQTDnHAPebGp5/uElzd88WTf5zTffdOcmvlAITr9pdlDEPsDgpiL+cTw0kmQmt2vXrpwIVI9IK5/NSbtMUl5AmfcyfAeoZD7VNgbv6lPSxpjEcu9oKvFP8+bNq4OPpu8ZuISmqG8xqWXLlqXA275L46nMqTqgXCYdYGIdhNy8efOHir2APznk92Us896WFifb5zAl4GrzxBNP5NYAgoCkLCdBsbaA0lrlDITsBIFsMms5i06uV3kmZa8JLK3K5I2UTSd9Jq+kpbFtqh27fUL17e1P6ShxLgrGtLIT5S70mk0rHjFiRDNv3j+tlUCP9dGjDv8ym2errqYzf2sX1PUBEs1PUIQluWeVRiq+zJcvX2tcISMyZcr0KDrlB57LVQo1FeodiomJ0VY4iF6pgmlQKXPmzNlwActreRz98fOtt96aA/ft47yWkWLWSXX9Af6kB7jImts2FrSuGmlh3FFJAUyao9gCe/c8kvY6R+QrcswJj2fgIU6nEpYmVMwt/f7rjzvOiJEGo2CRhH9ogijcZYqnTJniWtuYA6NhzgDhvTB58mSjuImbe/HB0ijoCXQZsOWC+K2lc8zpwyklRW5PogBfuMoV8FpIv7hA/5FIstVjUin5WMhiIhA9CtvnbY5bMVTCOyGMyG6cZIkM/D3iE3x/e45TLegXXCSji62L+9bVaRbnH3NqbmUMxj6xY8EWySQ6JHYh3+eqgJdLdgRSup10pMqIpaQ1UZ2US0VL1rV/lFdZNsChe195pD6JnXEInBbGtIWHoqjKyBclGOYTpw6q5AVqmO9ZDHSQF+9NI31HGYRrdfO5u6W3PFhaZgRtG7vFjsrrOn788cfNJJmYeWtLH/vVDrSxordt0m8CWSORwnHsm6+15cqVqwDeHP/EZVmAqnysfIq0safQs2Y+PXr0kG60JxzJMMB2rnjRokUD8FkPpJpu/Waw3nKbxlzwsbjxXH5ky0LFiPkR2vUZnGUSeNkoWl19vR1JexPRkz+pLVCxwivNa4uqJGUwGokUjsNCkpQMTotr6J5//vmKqA3z4AuUkURiy8BLd7KpI5nmMOcDpbF0OyPCw5Tm7eaTir3AcW4G78WxuonefLA0W2UFA/WRJLvdRM+PHJpqImIS9tYnomX1lxLHElxJEi1Zo1OcdGHF06dPN9/zafNR5QU4CMdDayTJtkHs9U4KnTrweag+7bmvt+nkS3XA9jimGLHfw6NB8yZn9OjRLfv06VNbeAvosVSlSLTOO2QjAX6j0jsvbTVNRnpCQQaiTVvpk3IWnYJltspk8Gn7iXG2jtLW4BTOgnSZj5K3BSnGjP+snbDuZzb96aef/sWmFXM6LKchTciIrXC8A1jB3ectpVMD6pVTXcL1B5xeje0E+TGHe5QjSWfAX7Blijnqy4Jvj7uk7bffftuV2erqEO2lCZWGzuqG649JjNiVDD3y9E5y6tSpPtLklRrpIerK8LydT0zNZGDyyXkaEud+PLBtodv6QGu3zXXJJP3kpyGTNp+47cRsjCmw1qaJXcmKj4//0INPMQlXpEeCbjUksxfK+n3KzbEuDtJYDPh+nHB3eeuBTwe+MyeaDE4D4MaCG8fd0Shz2mrshPoQ6CBoSbl5oWnbU55HFzHUzaG06C62lvK/EZxuARY1jei12DeKOZ1WKoaZF/RjI6XDAdwftenaKlqfUTCBRgx8Ddb4WBZqHoUy+jT4XxmP3kcmczBoW0vaMwqPNL9NlMR2ryk8R71RF9wZSzt05iMkp2UP8tGc3H9BpcTzvW6SDh1wkZyaHTmQDtHOLzjqWoALW8ojYMRcDcQf+E2hDLU7OJrfocOt/uWh8mvXrpWEuNcD0j6AbpMjzACLYXxBrGxbx2uQBTvqQfJnqaTn+M2Y3EbSWQialKQpEibkVwOkXbNAeXbAjyonSJq+5WvtC6Tt6SqmJ4M/Da6gaAjhAXegGPRKT1ahFyfXUg0KW+Njahcj6OvoaxpAOEA92Toy3EIOAAZ0ZDKf8HrkfiQ0CdoYmJVX7TOGWKKt8kyAj0YSsgvPQ+pcRKsY3+vg5aqtIDxpmQ3aqkrrJJVxaY572rZMcrc0DJrHz2Lfg8YyjmT4EM3gT6szCzDnABJUjdDb4lKKMR+0anqBEpJBznAiWJTJulTzCu5ecGbAfHhoolWGQZ+Bk4Vt2uFb/iMcDHuQ6PHgSgjPWFfIdKG+MTFgyDHqnlCgXDaUrPihXJ2eJell0jCEohW4S7eb1CgQxVbp7mUEt+o5yjPwwV68Nw0Td1FXg5VnMDUGQWJAdNJZ3sEKJ4YJ720nGF4TF52VCJv31rX1grXlxdHMpYEqp0MqGiHSh1iN3ZYhMLCdTStG8U6GVq9UcxLc1SL9PwHhcFE0WmVNXn7jTAThDhFkgUv5HSdcIOiieQOCcQCd9Qd0wwiEyng0vVIWKo3u+AWvZi/src7QJJDfRjv9OSwkkVqEcBYw2HBu4K4HDrDoMjsaEW8nXDIgKJuHDBnSBPNmQ2qVUYVrOfj+BF+0028I1vUgIKmNEeFpyAH/IIvvY0GlJgy2HC/VbM7J59Bc7odyWxZOTP+HMSdrXSuhYlwvohVn074MiQChpf8nKf8KyyrAuEGTii/r/OuCe5s6s7yBS9jj3jnQrlyE26CJd4L+msQY7IVC3nGAe8bLJ2jnBekvDzSjCbsIejIyn/4e9fZH2geYd2foZoIMOm82cyXaWsQl0b0WkC9JMGOmntfQ8mnbzUAsR9EXTGLa008/XYwfhxThcjcMbbKZG+67uCmb6/EADunR3E71ZxJW0/FWBG4ZmmQq36j6du/evRrvYSphJrvePNq8IuA+MiasCbgzSTkBM91PPcxvCdRykvkYe/CgqR00c50SGxur317cDc64b1kM/cygNMG9KYMz74TwIw0sW7ZsxTvvvPNevtTqS64us6Z92m2gdmlzUZkyZe57++2361HPuGP4RW0jpz0JdiSb0bxD0PWC/J0ELa6xoGlirNqB91tat25dK0+ePOVZozeEg/e7uP0HGLDM+3mVC+h/IW3dTPCZN5ukykUK46Ley5WnLMJZ3uKg13zcOZP2BQjftcTck+Io1UMEvTzpZ/EpxSz2Ev4ixfMwxf3sxEV2BY65J/AFGddLSvXDKUOAezOm1HcERKGAhayrvvA2TGZTvOqkZ0B/E8FlqhUkmC97zjzzEa2dH7EEyYep4NwHZ6IV8D2hCXTSaj6CBO15+pCNafiFkB4sVaqUPC/uOMC1VhuOIBWnTHM3ANo4OvEctwVh1opYAqhLgLwjuvx751NPbXHVXMxHaHN7QlC/gkaXA5fOChLzTkSAtqiO5qpYAK1s2kBBoqw4wRw/enSvP2+DlK/lq3B7VUwNkP79eD2awhSzU0PQJ6G6e9DmkBDlIdFqn194v/3BBx804zXQELTgj/jeingnTzosgEkPhOqIzaMv8u4xxnyaiJb+NoEvid+vFX+w5iG8Nk8Jn5IgcSR/xpjb0mZTHghWpr4r/LRrNBI83gG+PJp8ldrTp0TyugGaOz9j/QN9TFEZAnUAzdCJMi2ghEV/ukMfsJJVjqDNhuZf0JuFp2wlJIUJcojI21VVdMGAdRkHjTtvK0iM8xT40v369ctPeytsXXCBgoTUdRIBu3MCA/0HSTMwFnwSE5tmK4eKeaXUE3fZt6HK/fEM7jRCUJc45G2PiRxHUwziC34HmL3Zvw2bR9Npp7sLRDpVgNkdOPt7PfTQQ/dBrGNC6v8WnoY8x8L/E0fvH8nrK10Ei1OKHduNzxkvky9KUF+RfDbJzbHwMgLyKvmSDp7o4k+S4N1H+jzKAsUp8AO09hTlJhgBQSOUgN9d+arZDZy0TAyOqGd57TUAm7IFeaOREOBKbOwewuuo5Pt5R8piCeZoI5ZApeUXfiXo4zm5TPnu1YTHVHJaabzGJQG/9FCyAw7x3tWqVdO8Ywlm3rxQa6P2+dsiNcCZeTO3AqxpF57K9AF3B8HwmK8D2bl19yTvM+c0CNFLSPABnoY0IH3SLpBi+TeZyHIvzpuGGeu10OCM4HnLwknz2qEZwnTA0pI+yffqbjisBjMm99OMLQ8VM9kuTMzsOuJwQMyXGteiKm0hJbxoVcefPiW8yrwhtfre/i2tF2fbsmV23Da2tCoPRmPL1Y7SFlLCi9a/LUt/sQ0WJju7/RmOCh/7R4uIZA+sWrVqZeyRnsEWVeVI7KxQi5sanj+W0JcBykjVA4bMvKW+G0E6iDDv4xjbgrtgk2wChHW1PmeR3gB+NzSnaDtAcDnyHqUds2uIb8DvxAF9nc7Ior2xb9++n7iVLSB/jveg2tVpUMkT7rvvvqEk9xYsWHAxi5cnKiqqtcqok8B7+HY8ex4cGRmpMzVVQFi385R6GcfJao6PnQUKFLgF4dhHxe2EM4RfGzZsWJQ+pGrTMB4TlE4JGPMxDPkNErYiRYrcylvYHJzj8irr69QN+D04gA1SizO6OYthgPN5JOGfNk+cjBYYghCNsziOuR3W0rc4b6wF5RVSP15+N9bTCrSKjDP3pmNp9cvaRYsWdbN5hFkG4xUDfevDtmsw/h58/L/vAyHJycoFHBEcc11Y6I+0qropYfB2URqjex6GpfvSVEfN7Nmzu/M8tz1H3EyOP/dqKPpggPCewF/SCOH0udmF8yo1WHv+OLTcchZWj6CsIRp0namXyb+u8vHx8bqJyB4wAGo48/oJG8zrlDM8QBNOhMgYpiKGNq/a8Ad+Uq7xeNv0blZDTh/bMOgrOnSu7UJhekJfgrlNixjeLYRW7ga3TXB/VRlwjv5KqYy0+dRO23vfeustewt024bm6gBHlBEQ032Qf7iy9nP+nlAJeszKa9biCFJtLPzXEAjXQA5SNSiKm8cXaKl3ghWG8wY8WD1/HLeSg4xV45WtFBLQxJltXf5e01+rVq1anp9uSYhiCa5wsEAjLR2CsxuNV5q5vy4cm+1rh94ILdo6v6XlqdFjOGPv8rTpXtfh+0DRccSPpH4pbLs6tt6LL774ADgzdvor7eCTccV0AF+udu3aldm0c9H0G7n1tgFnxxrBepW2m9lekHApLIJG85IjVEbz1Qc6XWUnECx2/BnF6NldFJgwIhhtajiuuK/iqNRT6wBg8Q9ze+scUHAZCOZ0jvGWJmjhQoJXkNC6e+TLUcD7bOuanWsFiav+HBbH50kWx/F0OoglBAgSbf2s9qizgXIfwbaC5D89NugoaNV/OoIeyvQSDevwPflimA3GgWrrYQtOBq+rvauZuEFnoZ5xqWCPxlGm9rIQrr4molGBOpeUeiEZB9oUDOnmSPJifrxVGWaMwG56ASF4kAkchel78bO0hsGHvRVTSmNTdbjnnnue5kcfcsgFAEfp+MqVKzcIKLgMhI5iqiUT5HkNC1iQbcxtRdq0aZdyhGlh9OTDB+DDIf7WTzXe+hVAOFb7FP6WcfvUB2q1iS9nLT4XCXXSb2QXUwjzTC43ZWjvR2Fy5MihTbubcJ6gv/g+lDaOsA4PsNnmcxGphTacRZkBtLi80fI1uUJSp06dU7R5TAQI5nIiaWhzmRHuWoD+tutsBtcIB9VYnpQt+/Of/9wlf/78dflz9HXVIcJykrfJn/CbcxncB5ctW9bl3nvvHV6+fHnZA+dhxECEYPPdd9/dkduSzuUAwCfU5ZFHHmnHLSw2oBAE7R7DLtnEt6Z2wcovFcdxs5g6+mSRIvCbkLM45WpyPORlcaK4fRoh4MOsNlhWwkmCXrV2hQfDoJfWudCpU6f9hLtatWqVlXpFhCMYoO/DzLMW2je3t00uHvpEIQE9TfgVng3EtpyII1XH0gl4V4E/91MER3BeHKTFwOtBaMJtt90mIcg1aNCgIhxpLdmIRTnuDkLXku+fSyiTwIhGG8cFBLcKXvfYuLi44yATCa6Au0RXM4HKzI8a3IFQBAV9mEXYztpCGDWD81nPggOAHbMZ+6c12qrn+++/35Bx3k7QB9CMGOU+PipP5WT9rpc+zntwV5R844036tNnLkI49oB2sgTHP7g7nDKB8jYYhPNPKJx/e8qH06Ztz59W3QmnOUmgFQdrE7QLKbXlEl2thN4XTQ+2ckh9f1T+Gv8yufo59uL88d487n0tpjnnNVB2Z1UEdqdoZMOMGjWqJWgZgEVxajYBfVUEibFNok258nWUBFsM0DfgmnAAX04GFvmwFtkCZ/YO8H1s3j/G0z0Wm+kDf7zNIyxJeqdr8zaWEPH9ZjATkW2mnWV2Der6tSvVSgj9FtorR8hG0G69Ab8TB9wdi/bJijG8EXtJHxTTYBO8yJncE7tBb1SCgm5gCNz0vHnz9vMn4DvZe/wRuIqc/ff4l3F97o9XOze3owj6u0B4Ehq3H4RO//HNNtreSh/bCUc5GrF1zQnLkCL1N4HSgEvAoD0jBPlkPjau4VKwh7aOEHxsBv8x3MhfWw7ob9V/z7G1HEEI6yei8tnwRbwO6+jaUWi3RL2GtFrIxthPw/SHqWz+asVouPmwRYa+hDFsTUT/OQgB9iGy2Jx2ZIO4Gw06vQrcRPBCMlrwfeisZiV5EeDLvRDqJugCPDoHbztA4bZNPrtL4CQefvjhotBEE/Tko4Z/Oe3IwHbnSn6pP43yPCxsD50M/AjGqT+BdEJ4jn89QYkmadaYsW6tWLFiPnDWH0XyyiGCRrMiDOahlDoOB3h+0BXtMAd76zQOyzfxLs9VPQRzN1fU5/C3fBFOO5dIk4zPREyREGUmuAsfDhsY69Pqj3Gv42bZCuGvxC0plrqyseSJloDIvrtfdCzEGb0+BFWSkB/n6nvCoxnXkHeNe+gfEh76c88++6zodenIy02qm/jA47YXyMuvY4SepyYFRS/g70U8DF7fGiVs6rum8KxHAh+4X+G29wK81kVGpoGhIVY72dDY34vW+TuphcBpTLotGr7oh6EIjbF5aU8fveVQlR9MtqouRWFvQmjDhgjeF5Vg8M0RisXqNCWAmZtoWQwWg2ToRuMacL+jpVT3csrw4H7h/IHYPPQVoBHAhQMR/JGzmznWX8D9MQqBWquxwOSTHLtaBMNYBM44AdkU+7jau45F8OaVIfifoZUwS4to8Y0WIT6CYLp4FroQtmB9+FkVMlcrcYTntzzgT289SJm7+LYtxpSIT2g0rohRztsnCYoRdGIDCO5steP8HlSvKYIJhn4y+YPonJ9oanyZCJe0CU2Hl/IP/qFoJi5PdhID2ED6Ywztf/FGqS9H1SB25RhsmFkwYyXPPCvSttkl0MtH5eMF1uCvEJI5GuX5lUEtjXFFNzO8xPrPv4y6946LXTqTtuUNtrfOCGi7emlsmoU+3KBBg2rQFiDYhRW9+yHc0ipGkHbzB+SqQHsrIQqe6gj0QlKbNm0kxGZhad9oJBFIwxElKqCJVd9n8cMUJNmX39HGr3pvTxuyic2aEV9z0ICjcXDdg+ZZrkGEArTQl9AY1wBqvA9q+81QtOHi8XUtadu27Z8YgzSedtrlaiCqBoB2rbSoBLMYoQhBi2SFiKQB8UD96ggoStBO1pGletrR/rtf9Fog3SBjCaKVNpMt4qUXXUaC+i3uhMLExkYiVrtyjqq++rRBbfmPUf1JQ6u+6viPCZQBL91NYELROeTXJtLEY/jbTXnleESt+9hSeMffQjut9goJx1D/+Ph4OSQDXhl46WwaQdyov9CBh103PjFMwmMZS/IG/LdxQEJxJaD6kmZJeEbc9zfxK/xsfGKogS1xd4YMGYoT5+L7VWau+Jk4FqdhLE7iZzl9uEUcQP3vQoPF88fDlr366qvbaUOfNRIIJwlnCUkEXeOvrXufDm7AlXHgSgUpVO9q1wqZaLz9SCgkHBI+pa2Q3BAYmHG9wr8B12fEz0pFYNUAAAAASUVORK5CYII=\"","import React from 'react';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport DoubleArrowIcon from '@material-ui/icons/DoubleArrow';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    backgroundColor: '#fff',\r\n    border: '1px solid #ccc',\r\n    borderRadius: 5,\r\n    width: 364,\r\n    position: 'relative',\r\n    height: 44,\r\n  },\r\n  menuButton: {\r\n    margin: 0,\r\n    padding: 7,\r\n  },\r\n  autocomplete: {\r\n    margin: 2,\r\n    flexGrow: 1,\r\n  },\r\n  searchInput: {\r\n    height: 40,\r\n    margin: 0,\r\n  },\r\n}));\r\n\r\n\r\nexport default function Omnibox(props) {\r\n  const classes = useStyles();\r\n\r\n  let companies = (props.companies || []).map(f => f.properties);\r\n  let companyNames = companies.map(c => c.company);\r\n\r\n  function handleResultSelection(event, value) {\r\n    if (value && companyNames.includes(value.company)) {\r\n      props.onSelectCompany(value);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Hidden lgUp implementation=\"css\">\r\n        <IconButton\r\n          edge=\"start\"\r\n          color=\"inherit\"\r\n          aria-label=\"menu\"\r\n          className={classes.menuButton}\r\n          onClick={props.onOpenMobileDrawer}>\r\n          <DoubleArrowIcon style={{fontSize: '2.0rem'}} />\r\n        </IconButton>\r\n      </Hidden>\r\n      <Autocomplete\r\n        freeSolo\r\n        selectOnFocus\r\n        handleHomeEndKeys\r\n        onChange={handleResultSelection}\r\n        options={companies}\r\n        getOptionLabel={prop => prop.company}\r\n        className={classes.autocomplete}\r\n        renderInput={(params) => (\r\n          <TextField {...params}\r\n            placeholder=\"Search...\"\r\n            className={classes.searchInput}\r\n            margin=\"dense\"\r\n            variant=\"outlined\" />\r\n        )}\r\n      />\r\n    </div>);\r\n}\r\n","import React, { useState  } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Select from '@material-ui/core/Select';\r\nimport Button from '@material-ui/core/Button';\r\nimport CONFIG from './config.json';\r\n\r\nconst MAPS = CONFIG['maps'];\r\n\r\nconst asOption = mapId => ({label: MAPS[mapId].shortName, value: mapId});\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    display: 'flex',\r\n    'flex-direction': 'row',\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(0.5),\r\n    minWidth: 120,\r\n    width: '100%',\r\n    'flex-direction': 'row',\r\n  },\r\n  locationSelectorDropdown: {\r\n    'flex-grow': 1,\r\n    'font-family': 'Open Sans',\r\n    'font-size': '10pt',\r\n  },\r\n  menuItem: {\r\n    'font-family': 'Open Sans',\r\n    'font-size': '10pt',\r\n  },\r\n  divider: {\r\n    height: 22,\r\n    width: 2,\r\n    content: '',\r\n  },\r\n  goButton: {\r\n    height: '100%',\r\n  }\r\n}));\r\n\r\nexport default function LocationSelector(props) {\r\n  const [selectedMap, setSelectedMap] = useState(asOption(props.selectedMapId));\r\n  const classes = useStyles();\r\n\r\n  const items = Object.keys(MAPS).map(asOption);\r\n\r\n  return (\r\n      <div className={classes.container}>\r\n        <FormControl variant=\"outlined\" className={classes.formControl}>\r\n          <Select\r\n            value={selectedMap.value}\r\n            className={classes.locationSelectorDropdown}\r\n            onChange={e => setSelectedMap(asOption(e.target.value))}\r\n          >\r\n            {items.map((item, index) => (\r\n              <MenuItem\r\n                key={index}\r\n                value={item.value}\r\n                className={classes.menuItem}>\r\n                {item.label}\r\n              </MenuItem>))}\r\n          </Select>\r\n          <div className={classes.divider} />\r\n          <Button\r\n            color=\"primary\"\r\n            variant=\"contained\"\r\n            className={classes.goButton}\r\n            onClick={() => props.onSelectMap(selectedMap.value)}>\r\n            Go\r\n          </Button>\r\n        </FormControl>\r\n      </div>\r\n  );\r\n}\r\n","export const normalizeCategory = s => s.toLowerCase().replace(/[/ ]/g, '-');\r\n\r\nexport function getAllCategories(taxonomy) {\r\n  return new Set(taxonomy.map(c => normalizeCategory(c.name)));\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport LocationSelector from './LocationSelector';\r\nimport { normalizeCategory } from './common';\r\n\r\nconst drawerWidth = 320;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  settingsPane: {\r\n    background: 'rgba(244, 244, 244, 0.93)',\r\n    'max-width': drawerWidth,\r\n  },\r\n  drawer: {\r\n    [theme.breakpoints.up('lg')]: {\r\n      width: drawerWidth,\r\n      flexShrink: 0,\r\n    },\r\n  },\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n    border: 0,\r\n  },\r\n  settingsPaneHeader: {\r\n    backgroundColor: '#02346d',\r\n    color: '#ffffff',\r\n    border: 0,\r\n    textAlign: 'center',\r\n    padding: 8,\r\n  },\r\n  settingsPaneContent: {\r\n    padding: 4,\r\n  },\r\n  settingsPaneSubheader: {\r\n    padding: 6,\r\n  },\r\n  formControlLabel: {\r\n    padding: 1,\r\n    marginLeft: -4,\r\n  },\r\n  categoryCheckbox: {\r\n    padding: 2,\r\n  },\r\n  categoryLabel: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    verticalAlign: 'middle',\r\n    fontFamily: 'Open Sans',\r\n    fontSize: '10pt',\r\n  },\r\n  categoryLegend: {\r\n    content: '',\r\n    width: 15,\r\n    height: 15,\r\n    margin: 4,\r\n    padding: 0,\r\n    borderRadius: 3,\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(0.1),\r\n  },\r\n  paneCloseButton: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    right: 8,\r\n    padding: 7,\r\n  },\r\n}));\r\n\r\nexport default function SettingsPane(props) {\r\n  const classes = useStyles();\r\n\r\n  const closeSettingsPane = () => props.onToggleOpen(false);\r\n\r\n  const formControlLabels = props.taxonomy.map((category, idx) => {\r\n    const sanitizedCat = normalizeCategory(category.name);\r\n    const isChecked = props.selectedCategories.has(sanitizedCat);\r\n\r\n    return (\r\n      <FormControlLabel\r\n        key={idx}\r\n        className={classes.formControlLabel}\r\n        control={\r\n          <Checkbox\r\n            className={classes.categoryCheckbox}\r\n            checked={isChecked}\r\n            onChange={props.onToggleCategory}\r\n            name={sanitizedCat} />}\r\n        label={\r\n          <div className={classes.categoryLabel}>\r\n            <span\r\n              className={classes.categoryLegend}\r\n              style={{background: category.color}} />\r\n          {category.name}\r\n          </div>}\r\n      />);\r\n  });\r\n\r\n  const drawer = (\r\n    <div className={classes.settingsPane}>\r\n      <div className={classes.settingsPaneHeader}>\r\n        <Typography variant=\"h2\">Options</Typography>\r\n        <Hidden lgUp implementation=\"css\">\r\n          <IconButton\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            aria-label=\"close-menu\"\r\n            className={classes.paneCloseButton}\r\n            onClick={closeSettingsPane}>\r\n            <CloseIcon />\r\n          </IconButton>\r\n        </Hidden>\r\n      </div>\r\n      <div className={classes.settingsPaneContent}>\r\n        <div className={classes.settingsPaneSubheader}>\r\n          <Typography variant=\"h3\">Select a location</Typography>\r\n        </div>\r\n        <LocationSelector\r\n          onSelectMap={props.onSelectMap}\r\n          selectedMapId={props.selectedMapId} />\r\n        <Divider style={{margin: 4}} />\r\n        <div className={classes.settingsPaneSubheader}>\r\n          <Typography variant=\"h3\">Filter by category</Typography>\r\n        </div>\r\n        <div>\r\n          <ButtonGroup color=\"primary\" variant=\"contained\">\r\n            <Button\r\n              id=\"select-all\"\r\n              onClick={props.onSelectAllCategories}>Select all</Button>\r\n            <Button\r\n              id=\"select-none\"\r\n              onClick={props.onDeselectAllCategories}>Clear all</Button>\r\n          </ButtonGroup>\r\n        </div>\r\n        <FormControl component=\"fieldset\" className={classes.formControl}>\r\n          <FormGroup>{formControlLabels}</FormGroup>\r\n        </FormControl>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className={classes.drawer}>\r\n      <Hidden lgUp implementation=\"css\">\r\n        <Drawer\r\n          variant=\"persistent\"\r\n          anchor = \"left\"\r\n          open={props.mobileDrawerOpen}\r\n          onClose={closeSettingsPane}\r\n          ModalProps={{\r\n            keepMounted: true, // Better open performance on mobile.\r\n          }}>\r\n          {drawer}\r\n        </Drawer>\r\n      </Hidden>\r\n      <Hidden mdDown implementation=\"css\">\r\n        <Drawer\r\n          classes={{\r\n            paper: classes.drawerPaper,\r\n          }}\r\n          variant=\"permanent\"\r\n          open\r\n          onClose={closeSettingsPane}>\r\n          {drawer}\r\n        </Drawer>\r\n      </Hidden>\r\n    </div>\r\n  );\r\n}\r\n","import { normalizeCategory } from './common';\r\n\r\nfunction getCategory(k, taxonomy) {\r\n  if (k === -1) {\r\n    return '';\r\n  }\r\n  return taxonomy[k]['name'];\r\n}\r\n\r\nfunction toFinalForm(data) {\r\n  let headers = data.table.columns;\r\n  const colidx = {};\r\n  for (var i = 0; i < headers.length; i++) {\r\n    colidx[headers[i]] = i;\r\n  }\r\n  const features = [];\r\n  data.table.data.forEach((row, i) => {\r\n    let feature = {\r\n      'type': 'Feature',\r\n      'properties': {\r\n        'idx': i,\r\n        'company': row[colidx['company']],\r\n        'city': data.cities[row[colidx['city']]],\r\n        'tax1': getCategory(row[colidx['tax1']], data.taxonomy),\r\n        'tax2': getCategory(row[colidx['tax2']], data.taxonomy),\r\n        'tax3': getCategory(row[colidx['tax3']], data.taxonomy),\r\n        'website': row[colidx['website']],\r\n        'notes': row[colidx['notes']],\r\n      },\r\n      'geometry': {\r\n        'type': 'Point',\r\n        'coordinates': [row[colidx['lng']], row[colidx['lat']]],\r\n      },\r\n    };\r\n    // canonicalize categories for use as labels\r\n    ['tax1', 'tax2', 'tax3'].forEach(label => {\r\n      const newprop = `${label}sanitized`;\r\n      let category = feature.properties[label];\r\n      feature.properties[newprop] = normalizeCategory(category);\r\n    });\r\n    features.push(feature);\r\n  });\r\n  return {\r\n    geojson: {\r\n      type: 'FeatureCollection',\r\n      features: features,\r\n    },\r\n    taxonomy: data.taxonomy,\r\n  }\r\n}\r\n\r\nexport function fetchMapData(mapId) {\r\n  let url = process.env.PUBLIC_URL + `/data/${mapId}.json`;\r\n  return fetch(url).then(r => r.json()).then(toFinalForm);\r\n}\r\n","import { createMuiTheme } from '@material-ui/core/styles';\r\n\r\nexport const THEME = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      main: \"#02346d\",\r\n    },\r\n    secondary: {\r\n      main: '#77ddf2',\r\n    },\r\n  },\r\n  typography: {\r\n    h1: {\r\n      fontSize: '1.5rem',\r\n    },\r\n    h2: {\r\n      fontSize: '1.4rem',\r\n    },\r\n    h3: {\r\n      fontSize: '1.2rem',\r\n    },\r\n  },\r\n});\r\n","import mapboxgl from 'mapbox-gl';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { ThemeProvider } from '@material-ui/core/styles';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport LogoOverlay from './LogoOverlay';\r\nimport Omnibox from './Omnibox';\r\nimport SettingsPane from './SettingsPane';\r\nimport { getAllCategories } from './common';\r\nimport CONFIG from './config.json';\r\nimport { fetchMapData } from './data-loader';\r\nimport { THEME } from './Theme';\r\nimport insightLogo from './img/insight-white.png';\r\nimport './App.css';\r\n\r\nconst COMPANIES_SOURCE = 'companies';\r\nconst MAPS = CONFIG['maps'];\r\nconst POINT_LAYER = 'energy-companies-point-layer';\r\n\r\n// = process.env.REACT_APP_MAPBOX_API_TOKEN;\r\n// mapboxgl.accessToken\r\nmapboxgl.accessToken='pk.eyJ1IjoidG90b3JvLWRha2UiLCJhIjoiY2tiNzJuZmQ3MDFudDJxa2N1ZG91YzBzciJ9.5qJpYzti2W7avnuM9rCiKA'\r\n\r\nfunction getPopupContent(props) {\r\n  const categoryInfo = ['tax1', 'tax2', 'tax3']\r\n    .map(k => props[k])\r\n    .filter(s => s).join(\", \");\r\n  var extraNotes = \"\";\r\n  if (props.hasOwnProperty(\"notes\") && props[\"notes\"] !== \"\") {\r\n    extraNotes = `Focus: <span>${props['notes']}</span><br />`;\r\n  }\r\n  return `\r\n    <div class=\"popup\" style = \"color: 626262\">\r\n      <h3 class=\"company-name\">\r\n        <a href=${props['website']} class=\"popup-link\" target=\"blank\">${props['company']}</a>\r\n      </h3>\r\n      Sector(s): <span class=\"category-info\">${categoryInfo}</span><br />\r\n      City: <span class=\"city-info\">${props['city']}</span><br />\r\n      ${extraNotes}\r\n    </div>`;\r\n}\r\n\r\nfunction clearPopups() {\r\n  var popUps = document.getElementsByClassName('mapboxgl-popup');\r\n  // Check if there is already a popup on the map and if so, remove it\r\n  // This prevents multiple popups in the case of overlapping circles\r\n  if (popUps[0]) popUps[0].remove();\r\n}\r\n\r\nfunction displayPopup(map, feature) {\r\n  const coordinates = feature.geometry.coordinates.slice();\r\n  clearPopups();\r\n  new mapboxgl.Popup({})\r\n    .setLngLat(coordinates)\r\n    .setHTML(getPopupContent(feature.properties))\r\n    .setMaxWidth(\"600px\")\r\n    .addTo(map);\r\n}\r\n//79ddf2\r\n\r\nfunction populateMapData(map, mapId, mapData) {\r\n  map.setCenter(MAPS[mapId].center);\r\n  map.setZoom(6);\r\n\r\n  mapData.then(data => {\r\n    map.addSource(COMPANIES_SOURCE, {\r\n      type: 'geojson',\r\n      data: data['geojson'],\r\n    });\r\n\r\n    // Last entry is fallthrough color\r\n    let circleColors =\r\n      data['taxonomy'].map(c => [c.name, c.color]).flat().concat(['#ccc']);\r\n\r\n    map.addLayer({\r\n      id: POINT_LAYER,\r\n      type: 'circle',\r\n      source: COMPANIES_SOURCE,\r\n      paint: {\r\n        // make circles larger as the user zooms\r\n        'circle-radius': {\r\n          stops: [[7, 5], [14, 12], [20, 50]]\r\n        },\r\n        'circle-opacity': 0.85,\r\n        // color circles by primary category\r\n        'circle-color': ['match', ['get', 'tax1']].concat(circleColors),\r\n        'circle-stroke-color': '#000',\r\n        'circle-stroke-width': 0.4,\r\n      }\r\n    });\r\n\r\n    map.on('mouseenter', POINT_LAYER, (e) => {\r\n      map.getCanvas().style.cursor = 'pointer';\r\n    });\r\n\r\n    map.on('mouseleave', POINT_LAYER, () => {\r\n      map.getCanvas().style.cursor = '';\r\n    });\r\n\r\n    map.on('click', POINT_LAYER, e => displayPopup(map, e.features[0]));\r\n\r\n    map.flyTo({\r\n      center: MAPS[mapId].flyTo,\r\n      zoom: MAPS[mapId].flyToZoom || 8,\r\n      speed: 0.5,\r\n    });\r\n  });\r\n}\r\n\r\nconst getUrlFragment = () => window.location.hash.replace('#', '');\r\n\r\nfunction useUrlFragment(fragment, callback) {\r\n  useEffect(() => {\r\n    window.location.hash = '#' + fragment;\r\n    const handleHashChange = () => {\r\n      callback(getUrlFragment());\r\n    }\r\n    window.addEventListener('hashchange', handleHashChange);\r\n    return () => {\r\n      window.removeEventListener('hashchange', handleHashChange);\r\n    }\r\n  });\r\n}\r\n\r\nfunction getInitialMapId() {\r\n  let initialMapId = getUrlFragment();\r\n  if (MAPS.hasOwnProperty(initialMapId)) {\r\n    return initialMapId;\r\n  }\r\n  return CONFIG['defaultMapId'];\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n  },\r\n  mainContent: {\r\n    flexGrow: 1,\r\n    position: 'relative',\r\n  },\r\n  mapContainer: {\r\n    height: '100vh',\r\n    top: 0,\r\n    right: 0,\r\n    left: 0,\r\n    bottom: 0,\r\n    backgroundColor: '#333',\r\n  },\r\n  mapOverlay: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    padding: 0,\r\n    pointerEvents: 'none',\r\n  },\r\n  mapOverlayInner: {\r\n    display: 'block',\r\n    position: 'relative',\r\n    height: '100%',\r\n    width: '100%',\r\n    margin: 0,\r\n    padding: 0,\r\n  },\r\n  mainControlOverlay: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    padding: 0,\r\n    margin: 0,\r\n    pointerEvents: 'auto',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n  },\r\n  mainControlOverlayShifted: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    padding: 0,\r\n    margin: 0,\r\n    pointerEvents: 'auto',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    marginLeft: 320,\r\n  },\r\n  insightLogoContainer: {\r\n    padding: 8,\r\n    marginTop: 23,\r\n    marginLeft: 8,\r\n  },\r\n  titleAndSearch: {\r\n    padding: '4px 8px',\r\n  },\r\n  mapTitle: {\r\n    color: '#fff',\r\n    padding: '4px 0px',\r\n    marginBottom: 4,\r\n  },\r\n}));\r\n\r\nexport default function App() {\r\n  const classes = useStyles();\r\n\r\n  const [thisMap, setThisMap] = useState(null);\r\n  const [selectedMapId, setSelectedMapId] = useState(getInitialMapId());\r\n  const [taxonomy, setTaxonomy] = useState([]);\r\n  const [companiesGeojson, setCompaniesGeojson] = useState({});\r\n  const [selectedCategories, setSelectedCategories] = useState(new Set([]));\r\n  const [mobileDrawerOpen, setMobileDrawerOpen] = useState(false);\r\n\r\n\r\n  function handleToggleCategory(e) {\r\n    var s = new Set(selectedCategories);\r\n    if (s.has(e.target.name)) {\r\n      s.delete(e.target.name);\r\n    } else {\r\n      s.add(e.target.name);\r\n    }\r\n    setSelectedCategories(s);\r\n  }\r\n\r\n    function handleReset() {\r\n    thisMap.flyTo({\r\n      center: MAPS[selectedMapId].flyTo,\r\n      zoom: MAPS[selectedMapId].flyToZoom || 8,\r\n    });\r\n  }\r\n\r\n  function handleSelectAllCategories(txnomy) {\r\n    // takes argument instead of using taxonomy directly because taxonomy\r\n    // state update can lag behind\r\n    setSelectedCategories(getAllCategories(txnomy));\r\n  }\r\n\r\n  function handleDeselectAllCategories() {\r\n    setSelectedCategories(new Set());\r\n  }\r\n\r\n  function handleSelectCompany(e) {\r\n    const selectedCompany = companiesGeojson.features[e.idx];\r\n    displayPopup(thisMap, selectedCompany);\r\n    thisMap.flyTo({\r\n      center: selectedCompany.geometry.coordinates,\r\n      zoom: 14,\r\n    });\r\n  }\r\n\r\n  function handleSelectMap(mapId) {\r\n    if (mapId !== selectedMapId) {\r\n      clearPopups();\r\n      thisMap.removeLayer(POINT_LAYER);\r\n      thisMap.removeSource(COMPANIES_SOURCE);\r\n      setSelectedMapId(mapId);\r\n      setMobileDrawerOpen(false);\r\n      let mapData = fetchMapData(mapId);\r\n      mapData.then(setUpMap);\r\n      populateMapData(thisMap, mapId, mapData);\r\n      handleSelectAllCategories(taxonomy);\r\n    }\r\n  }\r\n\r\n  function setUpMap(data) {\r\n    setTaxonomy(data['taxonomy']);\r\n    setCompaniesGeojson(data['geojson']);\r\n    // initially select all categories\r\n    handleSelectAllCategories(data['taxonomy']);\r\n  }\r\n\r\n  function initMap() {\r\n    let map = new mapboxgl.Map({\r\n      container: \"map-container\",\r\n      style: 'mapbox://styles/mapbox/dark-v10',\r\n      attributionControl: false,\r\n      center: MAPS[selectedMapId].center,\r\n      zoom: 6,\r\n      minZoom: 6,\r\n    });\r\n    let mapData = fetchMapData(selectedMapId);\r\n    mapData.then(setUpMap);\r\n\r\n    map.on('load', () => {\r\n      map.addControl(new mapboxgl.FullscreenControl(), 'bottom-right');\r\n      map.addControl(new mapboxgl.NavigationControl(), 'bottom-right');\r\n      populateMapData(map, selectedMapId, mapData);\r\n    });\r\n    setThisMap(map);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!thisMap) {\r\n      initMap();\r\n    }\r\n\r\n    if (thisMap) {\r\n      if (thisMap.getLayer(POINT_LAYER)) {\r\n        var filters = [\"any\"];\r\n        // If ANY of the 3 taxonomies for a company are selected, it should be\r\n        // displayed on the map.\r\n        [1, 2, 3].forEach(i => {\r\n          var filter = [\"in\", `tax${i}sanitized`];\r\n          selectedCategories.forEach(category => filter.push(category));\r\n          filters.push(filter);\r\n        });\r\n        thisMap.setFilter(POINT_LAYER, filters);\r\n      }\r\n    }\r\n  });\r\n\r\n  useUrlFragment(selectedMapId, urlFragment => {\r\n    if (MAPS.hasOwnProperty(urlFragment)) {\r\n      handleSelectMap(urlFragment);\r\n    }\r\n  });\r\n\r\nif (!mobileDrawerOpen) {\r\n  return (\r\n    <ThemeProvider theme={THEME}>\r\n      <div className={classes.root}>\r\n        <SettingsPane\r\n          selectedMapId={selectedMapId}\r\n          mobileDrawerOpen={mobileDrawerOpen}\r\n          selectedCategories={selectedCategories}\r\n          onToggleOpen={setMobileDrawerOpen}\r\n          onSelectMap={handleSelectMap}\r\n          taxonomy={taxonomy}\r\n          onSelectAllCategories={() => handleSelectAllCategories(taxonomy)}\r\n          onDeselectAllCategories={handleDeselectAllCategories}\r\n          onToggleCategory={handleToggleCategory} />\r\n        <main className={classes.mainContent}>\r\n          <div id=\"map-container\" className={classes.mapContainer} />\r\n            <LogoOverlay selectedMapId={selectedMapId} />\r\n          <div className={classes.mapOverlay}>\r\n            <div className={classes.mapOverlayInner}>\r\n              <div className={classes.mainControlOverlay}>\r\n                <Hidden smDown implementation=\"css\">\r\n                  <div className={classes.insightLogoContainer}>\r\n                    <Button variant=\"contained\" color = \"primary\" onClick={() => { handleReset() }}>Reset<br/>View</Button>\r\n                  </div>\r\n                </Hidden>\r\n                <div className={classes.titleAndSearch}>\r\n                  <div className={classes.mapTitle}>\r\n                    <Typography variant=\"h1\">{MAPS[selectedMapId].title}</Typography>\r\n                  </div>\r\n                  <Omnibox\r\n                    companies={companiesGeojson.features}\r\n                    onSelectCompany={handleSelectCompany}\r\n                    onOpenMobileDrawer={() => setMobileDrawerOpen(true)} />\r\n                  </div>\r\n              </div>\r\n              <LogoOverlay selectedMapId={selectedMapId} />\r\n            </div>\r\n          </div>\r\n        </main>\r\n      </div>\r\n    </ThemeProvider>\r\n  );\r\n} else {\r\n  return (\r\n    <ThemeProvider theme={THEME}>\r\n      <div className={classes.root}>\r\n        <SettingsPane\r\n          selectedMapId={selectedMapId}\r\n          mobileDrawerOpen={mobileDrawerOpen}\r\n          selectedCategories={selectedCategories}\r\n          onToggleOpen={setMobileDrawerOpen}\r\n          onSelectMap={handleSelectMap}\r\n          taxonomy={taxonomy}\r\n          onSelectAllCategories={() => handleSelectAllCategories(taxonomy)}\r\n          onDeselectAllCategories={handleDeselectAllCategories}\r\n          onToggleCategory={handleToggleCategory} />\r\n        <main className={classes.mainContent}>\r\n          <div id=\"map-container\" className={classes.mapContainer} />\r\n            <LogoOverlay selectedMapId={selectedMapId} />\r\n          <div className={classes.mapOverlay}>\r\n            <div className={classes.mapOverlayInner}>\r\n              <div className={classes.mainControlOverlayShifted}>\r\n                <Hidden smDown implementation=\"css\">\r\n                  <div className={classes.insightLogoContainer}>\r\n                    <Button variant=\"contained\" color = \"primary\" onClick={() => { handleReset() }}>Reset View</Button>\r\n                  </div>\r\n                </Hidden>\r\n                <div className={classes.titleAndSearch}>\r\n                  <div className={classes.mapTitle}>\r\n                    <Typography variant=\"h1\">{MAPS[selectedMapId].title}</Typography>\r\n                  </div>\r\n                  <Omnibox\r\n                    companies={companiesGeojson.features}\r\n                    onSelectCompany={handleSelectCompany}\r\n                    onOpenMobileDrawer={() => setMobileDrawerOpen(true)} />\r\n                  </div>\r\n              </div>\r\n              <LogoOverlay selectedMapId={selectedMapId} />\r\n            </div>\r\n          </div>\r\n        </main>\r\n      </div>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n}\r\n","export default __webpack_public_path__ + \"static/media/insight-white.fb6662a9.png\";","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}